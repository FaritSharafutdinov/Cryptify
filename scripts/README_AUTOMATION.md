# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Cryptify

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### `run_data_collector.sh`
–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API –±—ç–∫–µ–Ω–¥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑—ã –ø–æ—Å–ª–µ —Å–±–æ—Ä–∞.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/run_data_collector.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Docker –∏ API
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç data_collector –≤ —Ä–µ–∂–∏–º–µ incremental
3. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç predictor –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
4. –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ `logs/data_collector_YYYYMMDD_HHMMSS.log`

### `run_model_trainer.sh`
–ó–∞–ø—É—Å–∫–∞–µ—Ç –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ API –±—ç–∫–µ–Ω–¥–∞.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/run_model_trainer.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Docker –∏ API
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç trainer –≤ —Ä–µ–∂–∏–º–µ retrain
3. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç predictor –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
4. –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ `logs/model_trainer_YYYYMMDD_HHMMSS.log`

### `run_predictor.sh`
–ó–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ —á–µ—Ä–µ–∑ API –±—ç–∫–µ–Ω–¥–∞.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/run_predictor.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Docker –∏ API
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç predictor –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
3. –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ `logs/predictor_YYYYMMDD_HHMMSS.log`

### `setup_cron.sh`
–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç cron jobs –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/setup_cron.sh
```

**–ß—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç:**
- –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö: –∫–∞–∂–¥—ã–π —á–∞—Å (0 –º–∏–Ω—É—Ç –∫–∞–∂–¥–æ–≥–æ —á–∞—Å–∞)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤: –∫–∞–∂–¥—ã–π —á–∞—Å (5 –º–∏–Ω—É—Ç –∫–∞–∂–¥–æ–≥–æ —á–∞—Å–∞)
- –î–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π: –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 2:00

## ‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

| –ó–∞–¥–∞—á–∞ | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ | –°–∫—Ä–∏–ø—Ç |
|--------|-----------|--------|
| –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö | –ö–∞–∂–¥—ã–π —á–∞—Å (0 –º–∏–Ω—É—Ç) | `run_data_collector.sh` |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ | –ö–∞–∂–¥—ã–π —á–∞—Å (5 –º–∏–Ω—É—Ç) | `run_predictor.sh` |
| –î–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π | –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 2:00 | `run_model_trainer.sh` |

## üìù –õ–æ–≥–∏

–í—Å–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/`:
- `data_collector_YYYYMMDD_HHMMSS.log` - –ª–æ–≥–∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- `predictor_YYYYMMDD_HHMMSS.log` - –ª–æ–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- `model_trainer_YYYYMMDD_HHMMSS.log` - –ª–æ–≥–∏ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- `cron_data_collector.log` - –ª–æ–≥–∏ cron –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- `cron_predictor.log` - –ª–æ–≥–∏ cron –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- `cron_model_trainer.log` - –ª–æ–≥–∏ cron –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

## üîß –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Cron

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç `setup_cron.sh` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Ä—É—á–Ω—É—é:

```bash
crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ:
```cron
0 * * * * /absolute/path/to/cryptify/scripts/run_data_collector.sh >> /absolute/path/to/cryptify/logs/cron_data_collector.log 2>&1
5 * * * * /absolute/path/to/cryptify/scripts/run_predictor.sh >> /absolute/path/to/cryptify/logs/cron_predictor.log 2>&1
0 2 * * 0 /absolute/path/to/cryptify/scripts/run_model_trainer.sh >> /absolute/path/to/cryptify/logs/cron_model_trainer.log 2>&1
```

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏!

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ cron jobs
crontab -l

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
tail -f logs/cron_data_collector.log
tail -f logs/cron_predictor.log
tail -f logs/cron_model_trainer.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ cron
sudo tail -f /var/log/syslog | grep CRON
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Cron jobs –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–∫—Ä–∏–ø—Ç—ã:
   ```bash
   chmod +x scripts/*.sh
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤ crontab (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ):
   ```bash
   crontab -l
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏:
   ```bash
   sudo tail -f /var/log/syslog | grep CRON
   ```

### API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω:
   ```bash
   docker-compose ps
   curl http://localhost:8000/health
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:
   ```bash
   docker-compose logs backend
   ```
